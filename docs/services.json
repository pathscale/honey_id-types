{
  "enums": [
    {
      "Enum": {
        "name": "UserRole",
        "variants": [
          {
            "description": "Public can only view some data.",
            "name": "Public",
            "value": 0
          },
          {
            "description": "Platform admin can do literally everything. Very dangerous role.",
            "name": "PlatformAdmin",
            "value": 1
          },
          {
            "description": "Platform support can view and manage some staff.",
            "name": "PlatformSupport",
            "value": 2
          },
          {
            "description": "New user in application, can only create new app or be invited to an app.",
            "name": "AppNewUser",
            "value": 3
          },
          {
            "description": "App admin can manage the application, but not the platform.",
            "name": "AppAdmin",
            "value": 4
          },
          {
            "description": "App support see the application info, but not the platform.",
            "name": "AppSupport",
            "value": 5
          },
          {
            "description": "The role is used for external users only.",
            "name": "AppApiKey",
            "value": 6
          }
        ]
      }
    }
  ],
  "services": [
    {
      "endpoints": [
        {
          "code": 0,
          "description": "Initiates a websocket connection session with that permits access to endpoints with the UserRole::Public role",
          "json_schema": null,
          "name": "PublicConnect",
          "parameters": [],
          "returns": [],
          "roles": [
            "UserRole::Public"
          ],
          "stream_response": null
        }
      ],
      "id": 0,
      "name": "publicApiConnection"
    },
    {
      "endpoints": [
        {
          "code": 10,
          "description": "Frontend creates new user account.",
          "json_schema": null,
          "name": "Signup",
          "parameters": [
            {
              "name": "appPublicId",
              "ty": "UUID"
            },
            {
              "name": "username",
              "ty": "String"
            },
            {
              "name": "password",
              "ty": "String"
            }
          ],
          "returns": [
            {
              "name": "accessToken",
              "ty": "String"
            }
          ],
          "roles": [
            "UserRole::Public"
          ],
          "stream_response": null
        },
        {
          "code": 12,
          "description": "Step 1: Frontend submits username during auth flow.",
          "json_schema": null,
          "name": "SubmitUsername",
          "parameters": [
            {
              "name": "appPublicId",
              "ty": "UUID"
            },
            {
              "name": "username",
              "ty": "String"
            }
          ],
          "returns": [
            {
              "name": "expiresAt",
              "ty": "BigInt"
            }
          ],
          "roles": [
            "UserRole::Public"
          ],
          "stream_response": null
        },
        {
          "code": 13,
          "description": "Step 2: Frontend submits password to complete HoneyAuth login. Session is per connection. Returns tokens and token metadata.",
          "json_schema": null,
          "name": "SubmitPassword",
          "parameters": [
            {
              "name": "password",
              "ty": "String"
            }
          ],
          "returns": [
            {
              "name": "accessToken",
              "ty": "String"
            }
          ],
          "roles": [
            "UserRole::Public"
          ],
          "stream_response": null
        }
      ],
      "id": 1,
      "name": "publicAuthApi"
    },
    {
      "endpoints": [
        {
          "code": 100,
          "description": "",
          "json_schema": null,
          "name": "ApiKeyConnect",
          "parameters": [
            {
              "name": "appApiKey",
              "ty": "String"
            }
          ],
          "returns": [],
          "roles": [
            "UserRole::Public"
          ],
          "stream_response": null
        },
        {
          "code": 101,
          "description": "",
          "json_schema": null,
          "name": "AccessTokenConnect",
          "parameters": [
            {
              "name": "accessToken",
              "ty": "UUID"
            }
          ],
          "returns": [],
          "roles": [
            "UserRole::Public"
          ],
          "stream_response": null
        },
        {
          "code": 102,
          "description": "Returns `appPublicId` which will be used for auth flows",
          "json_schema": null,
          "name": "GetAppPublicId",
          "parameters": [],
          "returns": [
            {
              "name": "appPublicId",
              "ty": "UUID"
            }
          ],
          "roles": [
            "UserRole::Public"
          ],
          "stream_response": null
        }
      ],
      "id": 10,
      "name": "authEndpoints"
    },
    {
      "endpoints": [
        {
          "code": 110,
          "description": "Backend receives HoneyAuth tokens.",
          "json_schema": null,
          "name": "ReceiveToken",
          "parameters": [
            {
              "name": "token",
              "ty": "String"
            },
            {
              "name": "userPubId",
              "ty": "UUID"
            }
          ],
          "returns": [],
          "roles": [
            "UserRole::AppApiKey"
          ],
          "stream_response": null
        },
        {
          "code": 111,
          "description": "Backend receives user info.",
          "json_schema": null,
          "name": "ReceiveUserInfo",
          "parameters": [
            {
              "name": "userPubId",
              "ty": "UUID"
            },
            {
              "name": "username",
              "ty": "String"
            }
          ],
          "returns": [],
          "roles": [
            "UserRole::AppApiKey"
          ],
          "stream_response": null
        }
      ],
      "id": 11,
      "name": "tokenApi"
    }
  ]
}