{
  "enums": [
    {
      "Enum": {
        "name": "UserRole",
        "variants": [
          {
            "description": "Public can only view some data.",
            "name": "Public",
            "value": 0
          },
          {
            "description": "Platform admin can do literally everything. Very dangerous role.",
            "name": "PlatformAdmin",
            "value": 1
          },
          {
            "description": "Platform support can view and manage some staff.",
            "name": "PlatformSupport",
            "value": 2
          },
          {
            "description": "New user in application, can only create new app or be invited to an app.",
            "name": "AppNewUser",
            "value": 3
          },
          {
            "description": "App admin can manage the application, but not the platform.",
            "name": "AppAdmin",
            "value": 4
          },
          {
            "description": "App support see the application info, but not the platform.",
            "name": "AppSupport",
            "value": 5
          },
          {
            "description": "The role is used for external users only.",
            "name": "AppApiKey",
            "value": 6
          },
          {
            "description": "The role is used for platform only.",
            "name": "Platform",
            "value": 7
          }
        ]
      }
    },
    {
      "Enum": {
        "name": "UserStatus",
        "variants": [
          {
            "description": "Active user.",
            "name": "enabled",
            "value": 1
          },
          {
            "description": "Inactive user.",
            "name": "disabled",
            "value": 2
          },
          {
            "description": "Banned user.",
            "name": "banned",
            "value": 3
          }
        ]
      }
    }
  ],
  "services": [
    {
      "endpoints": [
        {
          "code": 0,
          "description": "Initiates a websocket connection session with that permits access to endpoints with the UserRole::Public role",
          "json_schema": null,
          "name": "PublicConnect",
          "parameters": [],
          "returns": [],
          "roles": [
            "UserRole::Public"
          ],
          "stream_response": null
        }
      ],
      "id": 0,
      "name": "publicApiConnection"
    },
    {
      "endpoints": [
        {
          "code": 10,
          "description": "Frontend creates new user account.",
          "json_schema": null,
          "name": "Signup",
          "parameters": [
            {
              "name": "appPublicId",
              "ty": "UUID"
            },
            {
              "name": "username",
              "ty": "String"
            },
            {
              "name": "password",
              "ty": "String"
            }
          ],
          "returns": [
            {
              "name": "accessToken",
              "ty": "String"
            }
          ],
          "roles": [
            "UserRole::Public"
          ],
          "stream_response": null
        },
        {
          "code": 12,
          "description": "Step 1: Frontend submits username during auth flow.",
          "json_schema": null,
          "name": "SubmitUsername",
          "parameters": [
            {
              "name": "appPublicId",
              "ty": "UUID"
            },
            {
              "name": "username",
              "ty": "String"
            }
          ],
          "returns": [
            {
              "name": "expiresAt",
              "ty": "BigInt"
            }
          ],
          "roles": [
            "UserRole::Public"
          ],
          "stream_response": null
        },
        {
          "code": 13,
          "description": "Step 2: Frontend submits password to complete HoneyAuth login. Session is per connection. Returns tokens and token metadata.",
          "json_schema": null,
          "name": "SubmitPassword",
          "parameters": [
            {
              "name": "password",
              "ty": "String"
            }
          ],
          "returns": [
            {
              "name": "accessToken",
              "ty": "String"
            }
          ],
          "roles": [
            "UserRole::Public"
          ],
          "stream_response": null
        }
      ],
      "id": 1,
      "name": "publicAuthApi"
    },
    {
      "endpoints": [
        {
          "code": 100,
          "description": "Handles platform API Key login to initiate the connection session between Honey API Backend and this server",
          "json_schema": null,
          "name": "PlatformConnect",
          "parameters": [
            {
              "name": "platformApiKey",
              "ty": "String"
            }
          ],
          "returns": [],
          "roles": [
            "UserRole::Public"
          ],
          "stream_response": null
        }
      ],
      "id": 10,
      "name": "platformApiKeyConnection"
    },
    {
      "endpoints": [
        {
          "code": 111,
          "description": "Platform can create new apps",
          "json_schema": null,
          "name": "CreateAppConfig",
          "parameters": [
            {
              "name": "appPublicId",
              "ty": "UUID"
            },
            {
              "name": "callBackUrl",
              "ty": "String"
            }
          ],
          "returns": [
            {
              "name": "appPublicId",
              "ty": "UUID"
            },
            {
              "name": "createdAt",
              "ty": "BigInt"
            },
            {
              "name": "appApiKey",
              "ty": "String"
            },
            {
              "name": "minPasswordLength",
              "ty": "Int"
            },
            {
              "name": "requiredPasswordChars",
              "ty": "String"
            }
          ],
          "roles": [
            "UserRole::Platform"
          ],
          "stream_response": null
        },
        {
          "code": 112,
          "description": "Ban a user",
          "json_schema": null,
          "name": "BanUser",
          "parameters": [
            {
              "name": "userPublicId",
              "ty": "UUID"
            }
          ],
          "returns": [],
          "roles": [
            "UserRole::Platform"
          ],
          "stream_response": null
        },
        {
          "code": 113,
          "description": "Edit user status",
          "json_schema": null,
          "name": "EditUser",
          "parameters": [
            {
              "name": "userPublicId",
              "ty": "UUID"
            },
            {
              "name": "newStatus",
              "ty": {
                "EnumRef": "UserStatus"
              }
            }
          ],
          "returns": [
            {
              "name": "userPublicId",
              "ty": "UUID"
            },
            {
              "name": "newStatus",
              "ty": {
                "EnumRef": "UserStatus"
              }
            }
          ],
          "roles": [
            "UserRole::Platform"
          ],
          "stream_response": null
        },
        {
          "code": 114,
          "description": "Delete a user",
          "json_schema": null,
          "name": "DeleteUser",
          "parameters": [
            {
              "name": "appPublicId",
              "ty": "UUID"
            },
            {
              "name": "userPublicId",
              "ty": "UUID"
            }
          ],
          "returns": [],
          "roles": [
            "UserRole::Platform"
          ],
          "stream_response": null
        },
        {
          "code": 115,
          "description": "Delete app configuration",
          "json_schema": null,
          "name": "DeleteAppConfig",
          "parameters": [
            {
              "name": "appPublicId",
              "ty": "UUID"
            }
          ],
          "returns": [],
          "roles": [
            "UserRole::Platform"
          ],
          "stream_response": null
        },
        {
          "code": 116,
          "description": "Edit app configuration",
          "json_schema": null,
          "name": "EditAppConfig",
          "parameters": [
            {
              "name": "appPublicId",
              "ty": "UUID"
            },
            {
              "name": "minPasswordLength",
              "ty": {
                "Optional": "Int"
              }
            },
            {
              "name": "requiredPasswordChars",
              "ty": {
                "Optional": "String"
              }
            }
          ],
          "returns": [
            {
              "name": "appPublicId",
              "ty": "UUID"
            },
            {
              "name": "minPasswordLength",
              "ty": "Int"
            },
            {
              "name": "requiredPasswordChars",
              "ty": "String"
            }
          ],
          "roles": [
            "UserRole::Platform"
          ],
          "stream_response": null
        },
        {
          "code": 117,
          "description": "Get security rules contained within current app's configuration",
          "json_schema": null,
          "name": "GetAppSecurityRules",
          "parameters": [
            {
              "name": "appPublicId",
              "ty": "UUID"
            }
          ],
          "returns": [
            {
              "name": "appPublicId",
              "ty": "UUID"
            },
            {
              "name": "minPasswordLength",
              "ty": "Int"
            },
            {
              "name": "requiredPasswordChars",
              "ty": "String"
            }
          ],
          "roles": [
            "UserRole::Platform"
          ],
          "stream_response": null
        }
      ],
      "id": 11,
      "name": "platformApi"
    },
    {
      "endpoints": [
        {
          "code": 200,
          "description": "",
          "json_schema": null,
          "name": "ApiKeyConnect",
          "parameters": [
            {
              "name": "appApiKey",
              "ty": "String"
            }
          ],
          "returns": [],
          "roles": [
            "UserRole::Public"
          ],
          "stream_response": null
        },
        {
          "code": 201,
          "description": "",
          "json_schema": null,
          "name": "AccessTokenConnect",
          "parameters": [
            {
              "name": "accessToken",
              "ty": "UUID"
            }
          ],
          "returns": [],
          "roles": [
            "UserRole::Public"
          ],
          "stream_response": null
        }
      ],
      "id": 20,
      "name": "authEndpoints"
    },
    {
      "endpoints": [
        {
          "code": 210,
          "description": "Backend receives auth tokens, happens after login or signup",
          "json_schema": null,
          "name": "ReceiveToken",
          "parameters": [
            {
              "name": "token",
              "ty": "String"
            },
            {
              "name": "username",
              "ty": "String"
            },
            {
              "name": "userPubId",
              "ty": "UUID"
            }
          ],
          "returns": [],
          "roles": [
            "UserRole::AppApiKey"
          ],
          "stream_response": null
        },
        {
          "code": 211,
          "description": "Backend receives user info with token, happens after new user signs up.",
          "json_schema": null,
          "name": "ReceiveUserInfo",
          "parameters": [
            {
              "name": "userPubId",
              "ty": "UUID"
            },
            {
              "name": "username",
              "ty": "String"
            },
            {
              "name": "token",
              "ty": "String"
            }
          ],
          "returns": [],
          "roles": [
            "UserRole::AppApiKey"
          ],
          "stream_response": null
        }
      ],
      "id": 21,
      "name": "tokenApi"
    }
  ]
}